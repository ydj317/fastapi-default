<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hello FastApi</title>
  <script>
    function getCookie(name) {
      const value = `; ${document.cookie}`;
      const parts = value.split(`; ${name}=`);
      if (parts.length === 2) return parts.pop().split(';').shift();
    }
    
    document.addEventListener('DOMContentLoaded', () => {
      const token = getCookie('token');
      const tokenDisplay = document.createElement('div');
      tokenDisplay.innerHTML = token 
        ? `<p>Your Token: <code>${token}</code></p>` 
        : '<p>No token found in cookies</p>';
      document.body.appendChild(tokenDisplay);
    });
  </script>
</head>
<body>
<h1>Hello FastApi</h1>
<div><img src="/logo.png" alt=""/></div>

{% if is_login %}
<a href="/user/logout">로그아웃</a> | <a href="/user/info">회원정보</a>
{% else %}
<a href="/user/login">로그인</a> | <a href="/user/join">회원가입</a>
{% endif %}

<script src="/static/js/common.js"></script>
</body>
</html>